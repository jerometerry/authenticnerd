---
import BaseLayout from '@layouts/BaseLayout.astro';
import BlogPost from '@components/BlogPost.astro';

import { getCollection } from "astro:content";
const allPosts = await getCollection("blog");

const sortedPosts = allPosts.sort((a: any, b: any) => {
  return new Date(b.data.pubDate).valueOf() - new Date(a.data.pubDate).valueOf();
});

const pageTitle = "Authentic Nerd";
const description = "Living life as a professional, authentic, N.E.R.D. - Neurodivergent Empathetic Romantic Dramatic";
---

<BaseLayout pageTitle={pageTitle} description={description}>
  
  <section class="hero">

    <h1 class="text-5xl font-bold text-navy dark:text-white mb-2 leading-tight text-center">
      Authentic 
      <span class="text-terracotta dark:text-peach">Nerd</span>
    </h1>

    <p class="text-lg text-center text-gray-600 max-w-[45ch] mx-auto mb-8 text-balance dark:text-gray-400">
      Exploring the intersection of systems thinking, trauma recovery, and software architecture.
    </p>

    <div class="grid grid-cols-2 gap-4 max-w-[500px] mx-auto md:grid-cols-4 md:max-w-full">

      <div class="bg-white border border-gray-300 rounded-lg p-3 flex flex-col items-center transition-transform hover:-translate-y-1 hover:border-peach dark:bg-gray-dark dark:border-gray-700">
        <span class="text-2xl font-bold text-navy mb-1 dark:text-white">N</span>
        <span class="text-xs uppercase tracking-wider text-gray-500 dark:text-gray-300">Neurodivergent</span>
      </div>

      <div class="bg-white border border-gray-300 rounded-lg p-3 flex flex-col items-center transition-transform hover:-translate-y-1 hover:border-peach dark:bg-gray-dark dark:border-gray-700">
        <span class="text-2xl font-bold text-navy mb-1 dark:text-white">E</span>
        <span class="text-xs uppercase tracking-wider text-gray-500 dark:text-gray-300">Empathetic</span>
      </div>

      <div class="bg-white border border-gray-300 rounded-lg p-3 flex flex-col items-center transition-transform hover:-translate-y-1 hover:border-peach dark:bg-gray-dark dark:border-gray-700">
        <span class="text-2xl font-bold text-navy mb-1 dark:text-white">R</span>
        <span class="text-xs uppercase tracking-wider text-gray-500 dark:text-gray-300">Romantic</span>
      </div>

      <div class="bg-white border border-gray-300 rounded-lg p-3 flex flex-col items-center transition-transform hover:-translate-y-1 hover:border-peach dark:bg-gray-dark dark:border-gray-700">
        <span class="text-2xl font-bold text-navy mb-1 dark:text-white">D</span>
        <span class="text-xs uppercase tracking-wider text-gray-500 dark:text-gray-300">Dramatic</span>
      </div>

    </div>
  </section>

  <hr class="border-0 h-px bg-gradient-to-r from-transparent via-gray-300 to-transparent my-12" />

  <section>

    <div class="mb-8">
      <h2 class="text-4xl mb-6 text-terracotta dark:text-peach">
        Latest Posts
      </h1>
    </div>

    <div class="flex flex-col w-full">
    
      {sortedPosts.map((post: any) => (

        <BlogPost 
          url={`/posts/${post.id}/`}
          title={post.data.title} 
          pubDate={post.data.pubDate} 
        />

      ))}
      
    </div>
  </section>

</BaseLayout>
